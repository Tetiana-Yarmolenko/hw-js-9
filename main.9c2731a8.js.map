{"version":3,"sources":["../gallery-items.js","main.js"],"names":["preview","original","description","gallery","document","querySelector","cardsMarkup","createImagesCardMarkup","images","closeModalBtn","lightBoxImage","lightBox","lightboxOverlay","index","map","join","openModalWindow","event","preventDefault","window","addEventListener","pressHandler","classList","add","src","target","dataset","source","onCloseModalWindow","removeEventListener","remove","code","next","prev","nextIndex","srs","prevIndex","console","log","length","insertAdjacentHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACkFd,aAlFD,IAAA,EAAA,EAAA,QAAA,wBAkFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhFD,IAAMC,EAAUC,SAASC,cAAc,eAEjCC,EAAcC,EAAuBC,EAAD,SAEpCC,EAAgBL,SAASC,cAAc,kCAEvCK,EAAgBN,SAASC,cAAc,oBACvCM,EAAWP,SAASC,cAAc,aAClCO,EAAkBR,SAASC,cAAc,sBAE3CQ,EAAQ,EAMZ,SAASN,EAAuBC,GACvBA,OAAAA,EACJM,IAAI,SAAqCD,EAAAA,GAAlCb,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAIpBD,MAAAA,yEAAAA,OAAAA,EAICD,6DAAAA,OAAAA,EACQC,wBAAAA,OAAAA,EACRC,gBAAAA,OAAAA,EACSW,yBAAAA,OAAAA,EAVf,6BAeDE,KAAK,IAOV,SAASC,EAAgBC,GACvBA,EAAMC,iBACNC,OAAOC,iBAAiB,UAAWC,GAEnCV,EAASW,UAAUC,IAAI,WACvBb,EAAcc,IAAMP,EAAMQ,OAAOC,QAAQC,OACzCjB,EAAcG,OAASI,EAAMQ,OAAOC,QAAQb,MAM9C,SAASe,IACPT,OAAOU,oBAAoB,UAAWR,GACtCV,EAASW,UAAUQ,OAAO,WAC1BpB,EAAcc,IAAM,GAItB,SAASH,EAAaJ,GACD,WAAfA,EAAMc,MAAmBH,IACV,eAAfX,EAAMc,MAAuBC,IACd,cAAff,EAAMc,MAAsBE,IAGlC,SAASD,IACDE,IAAAA,IAAcrB,EAEbqB,EAAAA,QAAAA,GACLxB,EAAcyB,IAAM3B,EAAO0B,QAAAA,GAAWjC,SACpCY,EAAQ,EAAGH,EAAcc,IAAMhB,EAAOK,QAAAA,GAAOZ,SAInD,SAASgC,IACDG,IAAAA,IAAcvB,EACpBwB,QAAQC,IAAIF,GACLA,EAAAA,QAAAA,GAAa1B,EAAcc,IAAMhB,EAAO4B,QAAAA,GAAWnC,SACxDY,EAAQL,EAAO+B,QAAAA,OAAS,EAAG7B,EAAcc,IAAMhB,EAAOK,QAAAA,GAAOZ,SAjEjEE,EAAQqC,mBAAmB,YAAalC,GAuBxCH,EAAQiB,iBAAiB,QAASJ,GAClCP,EAAcW,iBAAiB,QAASQ,GACxChB,EAAgBQ,iBAAiB,QAASQ","file":"main.9c2731a8.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import images from \"../gallery-items.js\";\r\n\r\nconst gallery = document.querySelector(\".js-gallery\");\r\n\r\nconst cardsMarkup = createImagesCardMarkup(images);\r\n\r\nconst closeModalBtn = document.querySelector('[data-action=\"close-lightbox\"]');\r\n\r\nconst lightBoxImage = document.querySelector(\".lightbox__image\");\r\nconst lightBox = document.querySelector(\".lightbox\");\r\nconst lightboxOverlay = document.querySelector(\".lightbox__overlay\");\r\n\r\nlet index = 0;\r\n// індекс для роботи з стрілками\r\n\r\n\r\ngallery.insertAdjacentHTML(\"beforeend\", cardsMarkup);\r\n\r\nfunction createImagesCardMarkup(images) {\r\n  return images\r\n    .map(({ preview, original, description }, index) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=${original}\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt=${description}\r\n      data-index = ${index}\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join(\"\");\r\n}\r\n\r\ngallery.addEventListener(\"click\", openModalWindow);\r\ncloseModalBtn.addEventListener(\"click\", onCloseModalWindow);\r\nlightboxOverlay.addEventListener(\"click\", onCloseModalWindow);\r\n\r\nfunction openModalWindow(event) {\r\n  event.preventDefault();\r\n  window.addEventListener(\"keydown\", pressHandler);\r\n\r\n  lightBox.classList.add(\"is-open\");\r\n  lightBoxImage.src = event.target.dataset.source;\r\n  lightBoxImage.index = +event.target.dataset.index;\r\n  // при відкритті призначаємо перший індекс з data - index;\r\n  // console.log(lightBoxImage.index (повертає інд. фото на який ми нажали при відкритті.це строка - запис +event.target.dataset.index; + перетворює в число));\r\n}\r\n\r\n\r\nfunction onCloseModalWindow() {\r\n  window.removeEventListener(\"keydown\", pressHandler);\r\n  lightBox.classList.remove(\"is-open\");\r\n  lightBoxImage.src = \"\";\r\n}\r\n\r\n// функція для прослухов. клавіатури.\r\nfunction pressHandler(event) {\r\n  if (event.code === \"Escape\") onCloseModalWindow();\r\n  if (event.code === 'ArrowRight') next()\r\n  if (event.code === 'ArrowLeft') prev()\r\n}\r\n// функ. для гортання стілки в перед\r\nfunction next() {\r\n  const nextIndex = ++index;\r\n  // збільшуємо і перевіряємо чи є такий елемент, якщо є, то міняємо значення на наступний елемент, якщо немає, то починаємо з першого\r\n  images[nextIndex] ?\r\n    lightBoxImage.srs = images[nextIndex].original\r\n    : index = 0, lightBoxImage.src = images[index].original\r\n}\r\n\r\n// функ. для гортання стілки в назад\r\nfunction prev() {\r\n  const prevIndex = --index;\r\n  console.log(prevIndex);\r\n  images[prevIndex] ? lightBoxImage.src = images[prevIndex].original :\r\n    index = images.length - 1, lightBoxImage.src = images[index].original\r\n}\r\n\r\n\r\n\r\n"]}